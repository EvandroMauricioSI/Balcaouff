<div [style]="carregando">
  <form [formGroup]="cadastro">

    <mat-card class="card-container">
      <mat-grid-list cols="12" rowHeight="100px" gutterSize="10px">
        <h1 style="text-align: center;">{{editar ? 'Editar Anuncio' : 'Criar novo Anuncio'}}</h1>
      </mat-grid-list>

      <mat-grid-list cols="12" rowHeight="100px" gutterSize="10px">

        <mat-grid-tile colspan="6" rowspan="4">
          <mat-card class="example-card" appearance="outlined">


                <input type="file" style="display: none;"
                [accept]="requiredFileType"
                (change)="onFileSelected($event)" #fileUpload>

                <img mat-card-image class="profile-image" [src]="retornaImagem()" alt="Photo of a Shiba Inu" (click)="fileUpload.click()">


          </mat-card>
        </mat-grid-tile>


        <mat-grid-tile colspan="5">
          <mat-form-field floatLabel="always" appearance="outline" hideRequiredMarker="true" class="namebox">
            <mat-label>Tipo do Anuncio</mat-label>
            <mat-select  formControlName="tipo" >
              <mat-option *ngFor="let item of anuncioTipo" [value]="item.nome"> {{ item.nome }} </mat-option>
            </mat-select>
            <mat-error>Preencha o campo.</mat-error>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="2">
          <mat-form-field floatLabel="always" appearance="outline" hideRequiredMarker="true" class="namebox">
            <mat-label>Preco</mat-label>
            <span matPrefix class="espaco">R$</span>
              <input matInput formControlName="preco" type="text">
            <mat-error>Preencha o campo.</mat-error>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="3">
          <mat-form-field floatLabel="always" appearance="outline" hideRequiredMarker="true" class="namebox">
            <mat-label>Categoria</mat-label>
            <mat-select  formControlName="categoria" >
              <mat-option *ngFor="let item of $categoria | async" [value]="item.id_categoria"> {{ item.nome }} </mat-option>
            </mat-select>
            <mat-error>Preencha o campo.</mat-error>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="2">
          <mat-form-field floatLabel="always" appearance="outline" hideRequiredMarker="true" class="namebox">
            <mat-label>Condicao do produto</mat-label>
            <mat-select  formControlName="condicao_produto" >
              <mat-option *ngFor="let item of condicao" [value]="item"> {{ item }} </mat-option>
            </mat-select>
            <mat-error>Preencha o campo.</mat-error>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="3">
          <mat-form-field floatLabel="always" appearance="outline" hideRequiredMarker="true" class="namebox">
            <mat-label>Local de Venda</mat-label>
            <mat-select  formControlName="local" >
              <mat-option *ngFor="let item of $localizacao | async" [value]="item.id_localizacao"> {{ item.bairro}} - {{item.cidade}} </mat-option>
            </mat-select>
            <mat-error>Preencha o campo.</mat-error>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="5" rowspan="3">
          <mat-form-field floatLabel="always" appearance="outline" hideRequiredMarker="true" class="namebox" style="height: 300px;">
            <mat-label>Descricao do Anuncio</mat-label>
              <input matInput formControlName="descricao" type="text">
            <mat-error>Preencha o campo.</mat-error>
          </mat-form-field>
        </mat-grid-tile>

      </mat-grid-list>

      <mat-grid-list cols="12" rowHeight="50px" gutterSize="10px">
        <mat-grid-tile colspan="11">

          <div class="ajusteDireita">
            <button mat-raised-button class="textoValido" [mat-dialog-close]="true" style="margin-right: 5px;"> Voltar </button>
            <button mat-raised-button *ngIf="cadastro.valid" [mat-dialog-close]="true" class="textoValido" (click)="enviarDados()"> Salvar Anuncio </button>
            <button mat-raised-button disabled *ngIf="!cadastro.valid" class="textoInvalido"> Salvar Anuncio </button>
          </div>
        </mat-grid-tile>
      </mat-grid-list>

    </mat-card>

  </form>
</div>

